document.addEventListener("DOMContentLoaded", (event) => {
  var startbtn = document.querySelector('#start-btn');
  startbtn.addEventListener('click', function() {
    startQuiz();
  });
});

function startQuiz() {

  var quizQuestions = [
    {
      question: "Which statement calls the class green?",
      choices: ["document.getElementbyld('green)", "document.querySelector('green')", "document.querySelector('#green')", "window.document.querySelector('.green')"],
      answer: "document.querySelector('green')"
    },
    {
      question: "Which comparitive operator means if a is true and b is true otherwise, false?",
      choices: ["&&", "!==", "==", "==="],
      answer: "&&"
    }
  ];
}
function showQuestion(question) {
  var questionEl = document.getElementById('question');
  var choicesEl = document.getElementById('choices');
  questionEl.textContent = question.question;
  choicesEl.innerHTML = '';
  question.choices.forEach(choice => {
    var button = document.createElement('button');
    button.textContent = choice;
    button.classList.add('choice');
    button.addEventListener('click', checkAnswer);
    choicesEl.appendChild(button);
  });
}
function checkAnswer(event) {
  var selectedBtn = event.target;
  var selectedAnswer = selectedBtn.textContent;
  var currentQuestion = quizQuestions[currentQuestionIndex];
  if (selectedAnswer === currentQuestion.answer) {
    
    currentQuestionIndex++;
    if (currentQuestionIndex >= quizQuestions.length) {
      endQuiz();
    } else {
      showQuestion(quizQuestions[currentQuestionIndex]);
    }
  } else {
    // answer is incorrect, subtract time from the clock
    timeLeft -= 10;
  }
}
function endQuiz() {
  clearInterval(timerInterval);
  var quizContainer = document.getElementById('quiz-container');
  quizContainer.innerHTML = `<h2>All done!</h2>
      <p>Your final score is ${score}</p>
      <label for="initials">Enter initials:</label>
      <input type="text" id="initials" />
      <button id="submit">Submit</button>`;
  var submitBtn = document.getElementById('submit');
  submitBtn.addEventListener('click', saveScore);
}
function saveScore() {
  var initials = document.getElementById('initials').value;
  localStorage.setItem('quiz-score', JSON.stringify({ initials, score }));
  window.location.href = 'highscores.html';
}